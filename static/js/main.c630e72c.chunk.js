(this["webpackJsonpreact-blog"]=this["webpackJsonpreact-blog"]||[]).push([[0],{28:function(n,e,t){},29:function(n,e,t){},30:function(n,e,t){},43:function(n,e,t){"use strict";t.r(e);var a,r,c,o,i,s,d,b,j,l,p,u=t(1),x=t(19),f=t.n(x),h=(t(28),t(29),t(4)),O=t(2),g=(t(30),t(3)),m=t(6),v=t(5),w=Object(u.createContext)(null),y="token",k=function(n){localStorage.setItem(y,n)},S=function(){return localStorage.getItem(y)},C=t(7),z=t.n(C),P=t(10),F="https://student-json-api.lidemy.me",$=function(){var n=Object(P.a)(z.a.mark((function n(){var e;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(F,"/posts?_sort=createdAt&_order=desc"));case 2:return e=n.sent,n.next=5,e.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),I=function(){var n=Object(P.a)(z.a.mark((function n(){var e;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(F,"/posts?_sort=createdAt"));case 2:return e=n.sent,n.next=5,e.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),L=function(){var n=Object(P.a)(z.a.mark((function n(e){var t;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(F,"/posts?id=").concat(e));case 2:return t=n.sent,n.next=5,t.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),N=function(){var n=Object(P.a)(z.a.mark((function n(e,t){var a;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(F,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:e,password:t})});case 2:return a=n.sent,n.next=5,a.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),D=function(){var n=Object(P.a)(z.a.mark((function n(e,t,a){var r;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(F,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:e,nickname:t,password:a})});case 2:return r=n.sent,n.next=5,r.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(e,t,a){return n.apply(this,arguments)}}(),E=function(){var n=Object(P.a)(z.a.mark((function n(){var e,t,a;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=S(),n.next=3,fetch("".concat(F,"/me"),{headers:{authorization:"Bearer ".concat(e)}});case 3:return t=n.sent,n.next=6,t.json();case 6:return a=n.sent,n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),A=function(){var n=Object(P.a)(z.a.mark((function n(e,t){var a,r;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=S(),n.next=3,fetch("".concat(F,"/posts"),{method:"POST",headers:{authorization:"Bearer ".concat(a),"content-type":"application/json"},body:JSON.stringify({title:e,body:t})});case 3:return r=n.sent,n.next=6,r.json();case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),J=t(0),T=g.a.div(a||(a=Object(O.a)(["\n  max-width: 1024px;\n  margin: 0 auto;\n  margin-top: 30px;\n  min-height: calc(100vh - 64px);\n"]))),U=g.a.div(r||(r=Object(O.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 20px;\n"]))),B=g.a.div(c||(c=Object(O.a)(["\n  border: 1px solid #aa14f0;\n  border-radius: 5px;\n"]))),M=g.a.button(o||(o=Object(O.a)(["\n  border: none;\n  padding: 10px;\n  background: none;\n  & + & {\n    border-left: 1px solid #aa14f0;\n  }\n  ","\n  &:hover {\n    background: #aa14f0;\n    color: #fff;\n    cursor: pointer;\n  }\n"])),(function(n){return n.$active&&"\n    background: #aa14f0;\n    color: #fff;\n  "})),_=g.a.div(i||(i=Object(O.a)(["\n  border: 1px solid #bc8cf2;\n  padding: 16px;\n  border-radius: 5px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n  & + & {\n    margin-top: 15px;\n  }\n"]))),Q=Object(g.a)(m.b)(s||(s=Object(O.a)(["\n  width: 80%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n  line-height: 1.5;\n"]))),R=g.a.div(d||(d=Object(O.a)(["\n  color: rgba(0, 0, 0, 0.8);\n"])));function X(n){var e=n.post;return Object(J.jsxs)(_,{children:[Object(J.jsx)(Q,{to:"/post/".concat(e.id),children:e.title}),Object(J.jsx)(R,{children:new Date(e.createdAt).toLocaleString()})]})}function q(n){var e=n.num,t=n.totalPage,a=n.handlePrePageChage,r=n.handleNextPageChage;return Object(J.jsxs)(rn,{children:[1!==e&&Object(J.jsx)(cn,{onClick:a,children:"\uff1c"}),Object(J.jsxs)(on,{children:[Object(J.jsx)(sn,{children:e})," / ",t]}),e!==t&&Object(J.jsx)(cn,{onClick:r,children:"\uff1e"})]})}var H,W,G,K,V,Y,Z,nn,en,tn,an,rn=g.a.div(b||(b=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  margin-top: 20px;\n"]))),cn=g.a.button(j||(j=Object(O.a)(["\n  border: none;\n  color: #aa14f0;\n  background: none;\n  font-size: 20px;\n  padding: 15px;\n  cursor: pointer;\n"]))),on=g.a.p(l||(l=Object(O.a)([""]))),sn=g.a.span(p||(p=Object(O.a)(["\n  color: #bc8cf2;\n"])));function dn(){var n=Object(u.useState)([]),e=Object(h.a)(n,2),t=e[0],a=e[1],r=Object(u.useState)("desc"),c=Object(h.a)(r,2),o=c[0],i=c[1],s=Object(u.useState)(1),d=Object(h.a)(s,2),b=d[0],j=d[1],l=Object(u.useState)([]),p=Object(h.a)(l,2),x=p[0],f=p[1],O=t.filter((function(n){return n.title.length>=20})).length,g=Math.ceil(O/10),m=Object(u.useCallback)((function(n,e){f(t.filter((function(n){return n.title.length>=20})).slice((n-1)*e,(n-1)*e+e))}),[t]);Object(u.useEffect)((function(){return console.log(o),"desc"===o?$().then((function(n){return a(n)})):I().then((function(n){return a(n)}))}),[o]),Object(u.useEffect)((function(){m(b,10)}),[m,b]);return Object(J.jsxs)(T,{children:[Object(J.jsx)(U,{children:Object(J.jsxs)(B,{children:[Object(J.jsx)(M,{$active:"desc"===o,onClick:function(){return i("desc")},children:"\u7531\u65b0\u5230\u820a"}),Object(J.jsx)(M,{$active:"asc"===o,onClick:function(){return i("asc")},children:"\u7531\u820a\u5230\u65b0"})]})}),x.map((function(n){return Object(J.jsx)(X,{post:n},n.id)})),Object(J.jsx)(q,{num:b,totalPage:g,handlePrePageChage:function(){j(b-1)},handleNextPageChage:function(){j(b+1)}})]})}var bn=g.a.div(H||(H=Object(O.a)(["\n  max-width: 1024px;\n  margin: 0 auto;\n  margin-top: 30px;\n  min-height: calc(100vh - 64px);\n"]))),jn=g.a.div(W||(W=Object(O.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 20px;\n"]))),ln=g.a.div(G||(G=Object(O.a)(["\n  border: 1px solid #aa14f0;\n  border-radius: 5px;\n"]))),pn=g.a.button(K||(K=Object(O.a)(["\n  border: none;\n  padding: 10px;\n  background: none;\n  & + & {\n    border-left: 1px solid #aa14f0;\n  }\n  ","\n  &:hover {\n    background: #aa14f0;\n    color: #fff;\n    cursor: pointer;\n  }\n"])),(function(n){return n.$active&&"\n    background: #aa14f0;\n    color: #fff;\n  "})),un=g.a.div(V||(V=Object(O.a)(["\n  border: 1px solid #bc8cf2;\n  padding: 16px;\n  border-radius: 5px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: space-between;\n  & + & {\n    margin-top: 15px;\n  }\n"]))),xn=Object(g.a)(m.b)(Y||(Y=Object(O.a)(["\n  width: 80%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n  line-height: 1.5;\n"]))),fn=g.a.div(Z||(Z=Object(O.a)(["\n  /* width: 20%; */\n  color: rgba(0, 0, 0, 0.8);\n"])));function hn(n){var e=n.post;return Object(J.jsxs)(un,{children:[Object(J.jsx)(xn,{to:"/post/".concat(e.id),children:e.title}),Object(J.jsx)(fn,{children:new Date(e.createdAt).toLocaleString()})]})}function On(n){var e=n.num,t=n.totalPage,a=n.handlePrePageChage,r=n.handleNextPageChage;return Object(J.jsxs)(Pn,{children:[1!==e&&Object(J.jsx)(Fn,{onClick:a,children:"\uff1c"}),Object(J.jsxs)($n,{children:[Object(J.jsx)(In,{children:e})," / ",t]}),e!==t&&Object(J.jsx)(Fn,{onClick:r,children:"\uff1e"})]})}var gn,mn,vn,wn,yn,kn,Sn,Cn,zn,Pn=g.a.div(nn||(nn=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  margin-top: 20px;\n"]))),Fn=g.a.button(en||(en=Object(O.a)(["\n  border: none;\n  color: #aa14f0;\n  background: none;\n  font-size: 20px;\n  padding: 15px;\n  cursor: pointer;\n"]))),$n=g.a.p(tn||(tn=Object(O.a)([""]))),In=g.a.span(an||(an=Object(O.a)(["\n  color: #bc8cf2;\n"])));function Ln(){var n=Object(u.useState)([]),e=Object(h.a)(n,2),t=e[0],a=e[1],r=Object(u.useState)("desc"),c=Object(h.a)(r,2),o=c[0],i=c[1],s=Object(u.useState)(1),d=Object(h.a)(s,2),b=d[0],j=d[1],l=Object(u.useState)([]),p=Object(h.a)(l,2),x=p[0],f=p[1],O=t.length,g=Math.ceil(O/10);t.map((function(n){return console.log(n.title.length)}));var m=Object(u.useCallback)((function(n,e){f(t.slice((n-1)*e,(n-1)*e+e))}),[t]);Object(u.useEffect)((function(){return console.log(o),"desc"===o?$().then((function(n){return a(n)})):I().then((function(n){return a(n)}))}),[o]),Object(u.useEffect)((function(){m(b,10)}),[m,b]);return Object(J.jsxs)(bn,{children:[Object(J.jsx)(jn,{children:Object(J.jsxs)(ln,{children:[Object(J.jsx)(pn,{$active:"desc"===o,onClick:function(){return i("desc")},children:"\u7531\u65b0\u5230\u820a"}),Object(J.jsx)(pn,{$active:"asc"===o,onClick:function(){return i("asc")},children:"\u7531\u820a\u5230\u65b0"})]})}),x.map((function(n){return Object(J.jsx)(hn,{post:n},n.id)})),Object(J.jsx)(On,{num:b,totalPage:g,handlePrePageChage:function(){j(b-1)},handleNextPageChage:function(){j(b+1)}})]})}var Nn,Dn,En,An,Jn,Tn,Un,Bn,Mn,_n=g.a.div(gn||(gn=Object(O.a)(["\n  max-width: 1024px;\n  margin: 0 auto;\n  margin-top: 15px;\n  margin-bottom: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: baseline;\n  min-height: calc(100vh - 64px);\n"]))),Qn=g.a.form(mn||(mn=Object(O.a)(["\n  width: 50%;\n  padding: 30px 15px 15px;\n  border: 1px solid #bc8cf2;\n  border-radius: 5px;\n"]))),Rn=g.a.h2(vn||(vn=Object(O.a)(["\n  border-left: 5px solid #e56bfa;\n  font-size: 28px;\n  font-weight: bold;\n  padding-left: 15px;\n  margin-bottom: 30px;\n"]))),Xn=g.a.label(wn||(wn=Object(O.a)(["\n  display: block;\n  padding-bottom: 15px;\n"]))),qn=g.a.input(yn||(yn=Object(O.a)(["\n  width: 100%;\n  font-size: 18px;\n  padding: 5px;\n  margin-bottom: 15px;\n  outline: none;\n  border-radius: 5px;\n  border: 1px solid #000;\n"]))),Hn=g.a.div(kn||(kn=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n"]))),Wn=g.a.p(Sn||(Sn=Object(O.a)(["\n  color: red;\n  font-size: 18px;\n"]))),Gn=g.a.button(Cn||(Cn=Object(O.a)(["\n  padding: 15px 25px;\n  border-radius: 5px;\n  box-shadow: none;\n  border: 1px solid #aa14f0;\n  background: #fff;\n  margin-left: 30px;\n  margin-bottom: 15px;\n  &:hover {\n    background: #aa14f0;\n    color: #fff;\n    cursor: pointer;\n  }\n"]))),Kn=Object(g.a)(m.b)(zn||(zn=Object(O.a)(["\n  margin-top: 15px;\n  margin-bottom: 15px;\n  padding: 10px 0;\n  display: block;\n  text-align: center;\n  text-decoration: none;\n  color: red;\n  font-size: 18px;\n"])));function Vn(){var n=Object(u.useContext)(w).setUser,e=Object(v.f)(),t=Object(u.useState)(""),a=Object(h.a)(t,2),r=a[0],c=a[1],o=Object(u.useState)(""),i=Object(h.a)(o,2),s=i[0],d=i[1],b=Object(u.useState)(""),j=Object(h.a)(b,2),l=j[0],p=j[1];return Object(J.jsx)(_n,{children:Object(J.jsxs)(Qn,{onSubmit:function(t){t.preventDefault(),N(r,s).then((function(t){if(0===t.ok)return p(t.message);k(t.token),E().then((function(t){if(1!==t.ok)return localStorage.removeItem("token"),p(t.toString());n(t.data),e.push("/")}))}))},children:[Object(J.jsx)(Rn,{children:"\u767b\u5165"}),Object(J.jsx)(Xn,{htmlFor:"username",children:"\u5e33\u865f"}),Object(J.jsx)(qn,{type:"text",id:"username",value:r,onChange:function(n){c(n.target.value)}}),Object(J.jsx)(Xn,{htmlFor:"password",children:"\u5bc6\u78bc"}),Object(J.jsx)(qn,{type:"password",id:"password",value:s,onChange:function(n){d(n.target.value)}}),Object(J.jsxs)(Hn,{children:[l&&Object(J.jsx)(Wn,{children:l}),Object(J.jsx)(Gn,{children:"\u767b\u5165"})]}),Object(J.jsx)("hr",{}),Object(J.jsx)(Kn,{to:"/register",children:"\u524d\u5f80\u8a3b\u518a"})]})})}var Yn,Zn,ne,ee,te,ae,re=g.a.div(Nn||(Nn=Object(O.a)(["\n  max-width: 1024px;\n  margin: 0 auto;\n  margin-top: 15px;\n  margin-bottom: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: baseline;\n  min-height: calc(100vh - 64px);\n"]))),ce=g.a.form(Dn||(Dn=Object(O.a)(["\n  width: 50%;\n  padding: 30px 15px 15px;\n  border: 1px solid #bc8cf2;\n  border-radius: 5px;\n"]))),oe=g.a.h2(En||(En=Object(O.a)(["\n  border-left: 5px solid #e56bfa;\n  font-size: 28px;\n  font-weight: bold;\n  padding-left: 15px;\n  margin-bottom: 30px;\n"]))),ie=g.a.label(An||(An=Object(O.a)(["\n  display: block;\n  padding-bottom: 15px;\n"]))),se=g.a.input(Jn||(Jn=Object(O.a)(["\n  width: 100%;\n  font-size: 18px;\n  padding: 5px;\n  margin-bottom: 15px;\n  outline: none;\n  border-radius: 5px;\n  border: 1px solid #000;\n"]))),de=g.a.div(Tn||(Tn=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n"]))),be=g.a.p(Un||(Un=Object(O.a)(["\n  color: red;\n  font-size: 18px;\n"]))),je=g.a.button(Bn||(Bn=Object(O.a)(["\n  padding: 15px 25px;\n  border-radius: 5px;\n  box-shadow: none;\n  border: 1px solid #aa14f0;\n  background: #fff;\n  margin-left: 30px;\n  margin-bottom: 15px;\n  &:hover {\n    background: #aa14f0;\n    color: #fff;\n    cursor: pointer;\n  }\n"]))),le=Object(g.a)(m.b)(Mn||(Mn=Object(O.a)(["\n  margin-top: 15px;\n  margin-bottom: 15px;\n  padding: 10px 0;\n  display: block;\n  text-align: center;\n  text-decoration: none;\n  color: red;\n  font-size: 18px;\n"])));function pe(){var n=Object(u.useContext)(w).setUser,e=Object(v.f)(),t=Object(u.useState)(""),a=Object(h.a)(t,2),r=a[0],c=a[1],o=Object(u.useState)(""),i=Object(h.a)(o,2),s=i[0],d=i[1],b=Object(u.useState)(""),j=Object(h.a)(b,2),l=j[0],p=j[1],x=Object(u.useState)(""),f=Object(h.a)(x,2),O=f[0],g=f[1];return Object(J.jsx)(re,{children:Object(J.jsxs)(ce,{onSubmit:function(t){if(t.preventDefault(),!r||!s||!l)return g("\u8cc7\u6599\u4e0d\u9f4a\u5168");D(r,l,s).then((function(t){if(0===t.ok)return"User exists, please login or change username"===t.message?g("\u5e33\u865f\u5df2\u5b58\u5728"):g(t.message.toString());k(t.token),E().then((function(t){if(1!==t.ok)return localStorage.removeItem("token"),g(t.toString());n(t.data),e.push("/")}))}))},children:[Object(J.jsx)(oe,{children:"\u8a3b\u518a"}),Object(J.jsx)(ie,{htmlFor:"username",children:"\u5e33\u865f"}),Object(J.jsx)(se,{type:"text",id:"username",value:r,onChange:function(n){c(n.target.value)}}),Object(J.jsx)(ie,{htmlFor:"nickname",children:"\u66b1\u7a31"}),Object(J.jsx)(se,{type:"text",id:"nickname",value:s,onChange:function(n){d(n.target.value)}}),Object(J.jsx)(ie,{htmlFor:"password",children:"\u5bc6\u78bc"}),Object(J.jsx)(se,{type:"password",id:"password",value:l,onChange:function(n){p(n.target.value)}}),Object(J.jsxs)(de,{children:[O&&Object(J.jsx)(be,{children:O}),Object(J.jsx)(je,{children:"\u8a3b\u518a"})]}),Object(J.jsx)("hr",{}),Object(J.jsx)(le,{to:"/login",children:"\u524d\u5f80\u767b\u5165"})]})})}var ue,xe,fe,he,Oe,ge=g.a.div(Yn||(Yn=Object(O.a)(["\n  max-width: 1024px;\n  margin: 0 auto;\n  margin-top: 15px;\n  min-height: calc(100vh - 64px);\n"]))),me=g.a.div(Zn||(Zn=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 10px;\n"]))),ve=g.a.h1(ne||(ne=Object(O.a)(["\n  font-size: 32px;\n  padding-bottom: 10px;\n  word-wrap: break-word;\n"]))),we=g.a.p(ee||(ee=Object(O.a)(["\n  padding-bottom: 20px;\n"]))),ye=g.a.div(te||(te=Object(O.a)(["\n  width: 80%;\n  border: 1px solid #bc8cf2;\n  border-radius: 5px;\n  padding: 20px;\n"]))),ke=g.a.p(ae||(ae=Object(O.a)(["\n  white-space: pre-wrap;\n  word-wrap: break-word;\n"])));function Se(n){var e=n.post;return Object(J.jsx)(me,{children:Object(J.jsxs)(ye,{children:[Object(J.jsx)(ve,{children:e[0].title}),Object(J.jsx)(we,{children:new Date(e[0].createdAt).toLocaleString()}),Object(J.jsx)(ke,{children:e[0].body})]})})}function Ce(){var n=Object(v.h)().id,e=Object(u.useState)(),t=Object(h.a)(e,2),a=t[0],r=t[1];return Object(u.useEffect)((function(){L(n).then((function(n){return r(n)}))}),[n]),Object(J.jsx)(ge,{children:a&&Object(J.jsx)(Se,{post:a})})}var ze,Pe,Fe,$e,Ie,Le,Ne,De,Ee=g.a.div(ue||(ue=Object(O.a)(["\n  max-width: 1024px;\n  margin: 0 auto;\n  margin-top: 15px;\n  min-height: calc(100vh - 64px);\n  display: flex;\n  justify-content: center;\n  align-items: baseline;\n  padding: 10px;\n"]))),Ae=g.a.h2(xe||(xe=Object(O.a)(["\n  border-left: 5px solid #e56bfa;\n  font-size: 30px;\n  font-weight: bold;\n  padding-left: 15px;\n  margin-bottom: 30px;\n"]))),Je=g.a.h1(fe||(fe=Object(O.a)(["\n  font-size: 28px;\n  padding-bottom: 15px;\n  word-wrap: break-word;\n  font-weight: bold;\n"]))),Te=g.a.div(he||(he=Object(O.a)(["\n  width: 80%;\n  border: 1px solid #bc8cf2;\n  border-radius: 5px;\n  padding: 20px;\n"]))),Ue=g.a.p(Oe||(Oe=Object(O.a)(["\n  white-space: pre-wrap;\n  word-wrap: break-word;\n"])));function Be(){return Object(J.jsx)(Ee,{children:Object(J.jsxs)(Te,{children:[Object(J.jsx)(Ae,{children:"\u95dc\u65bc\u6211~"}),Object(J.jsx)(Je,{children:"\u5e7b\u5e7b"}),Object(J.jsx)(Ue,{children:"\u4f60\u597d\uff0c\u6211\u662f\u4e00\u500b\u524d\u7aef\u65b0\u624b\uff0c\u525b\u5f9eLidemy\u7a0b\u5f0f\u5c0e\u5e2b\u8a08\u756b\u7b2c\u4e94\u671f\u7562\u696d\uff0c\u5b78\u7fd2\u76f8\u95dc\u7db2\u8def\u77e5\u8b58\u3001\u524d\u7aef\u3001\u57fa\u672c\u7684\u5f8c\u7aef\uff0c\u50cf\u662f\u57fa\u790e\u7684php\u3001express\u3001sequlize\u3001MySQL\u3001\u57fa\u672c\u7684\u8cc7\u5b89\u76f8\u95dc\u77e5\u8b58\uff0cXSS\u3001SQL Injection\u3001CSRF \u8207\u90e8\u7f72\uff0cAWS\u3001Heroku\u3001Nginx\u3001PM2\u3002"})]})})}var Me,_e,Qe,Re,Xe,qe,He,We=g.a.div(ze||(ze=Object(O.a)(["\n  max-width: 1024px;\n  margin: 0 auto;\n  margin-top: 15px;\n  margin-bottom: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: baseline;\n  padding: 15px;\n  min-height: calc(100vh - 64px);\n"]))),Ge=g.a.form(Pe||(Pe=Object(O.a)(["\n  width: 100%;\n  padding: 15px;\n  border: 1px solid #bc8cf2;\n  border-radius: 5px;\n"]))),Ke=g.a.label(Fe||(Fe=Object(O.a)(["\n  display: block;\n  padding-bottom: 15px;\n"]))),Ve=g.a.input($e||($e=Object(O.a)(["\n  width: 100%;\n  font-size: 18px;\n  padding: 5px;\n  margin-bottom: 15px;\n  outline: none;\n  border: 1px solid #000;\n  border-radius: 5px;\n"]))),Ye=g.a.textarea(Ie||(Ie=Object(O.a)(["\n  width: 100%;\n  height: 50vh;\n  font-size: 18px;\n  padding: 5px;\n  resize: none;\n  margin-bottom: 15px;\n  outline: none;\n  border: 1px solid #000;\n  border-radius: 5px;\n"]))),Ze=g.a.div(Le||(Le=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n"]))),nt=g.a.p(Ne||(Ne=Object(O.a)(["\n  color: red;\n  font-size: 18px;\n"]))),et=g.a.button(De||(De=Object(O.a)(["\n  padding: 15px 25px;\n  border-radius: 5px;\n  box-shadow: none;\n  border: 1px solid #aa14f0;\n  background: #fff;\n  margin-left: 30px;\n  &:hover {\n    background: #aa14f0;\n    color: #fff;\n    cursor: pointer;\n  }\n"])));function tt(){var n=Object(v.f)(),e=Object(u.useState)(""),t=Object(h.a)(e,2),a=t[0],r=t[1],c=Object(u.useState)(""),o=Object(h.a)(c,2),i=o[0],s=o[1],d=Object(u.useState)(""),b=Object(h.a)(d,2),j=b[0],l=b[1];return Object(J.jsx)(We,{children:Object(J.jsxs)(Ge,{onSubmit:function(e){if(e.preventDefault(),!a||!i)return l("\u8cc7\u6599\u4e0d\u9f4a\u5168");A(a,i).then((function(e){if(0===e.ok)return l(e.message.toString());n.push("/")}))},children:[Object(J.jsx)(Ke,{htmlFor:"title",children:"\u6a19\u984c"}),Object(J.jsx)(Ve,{type:"text",id:"title",value:a,onChange:function(n){r(n.target.value)}}),Object(J.jsx)(Ke,{htmlFor:"content",children:"\u5167\u5bb9"}),Object(J.jsx)(Ye,{id:"content",value:i,onChange:function(n){s(n.target.value)}}),Object(J.jsxs)(Ze,{children:[j&&Object(J.jsx)(nt,{children:j}),Object(J.jsx)(et,{children:"\u63d0\u4ea4"})]})]})})}var at,rt=g.a.div(Me||(Me=Object(O.a)(["\n  height: 64px;\n  background: #fff;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid #d0a8fd67;\n  /* padding: 0 32px; */\n  margin: 0 auto;\n"]))),ct=g.a.div(_e||(_e=Object(O.a)(["\n  margin: 0 auto;\n  max-width: 1024px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),ot=Object(g.a)(m.b)(Qe||(Qe=Object(O.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  text-decoration: none;\n  color: #000;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n"]))),it=g.a.div(Re||(Re=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  height: 64px;\n"]))),st=Object(g.a)(m.b)(Xe||(Xe=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  box-sizing: border-box;\n  width: 100px;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ","\n  &:hover {\n    background: #d0a8fd67;\n  }\n"])),(function(n){return n.$active&&"\n    background: #d0a8fd52;\n  "})),dt=g.a.a(qe||(qe=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  box-sizing: border-box;\n  width: 100px;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  &:hover {\n    background: #d0a8fd67;\n  }\n"]))),bt=g.a.div(He||(He=Object(O.a)(["\n  display: flex;\n  align-items: center;\n"])));function jt(){var n=Object(v.g)(),e=Object(u.useContext)(w),t=e.user,a=e.setUser;return Object(J.jsx)(rt,{children:Object(J.jsxs)(ct,{children:[Object(J.jsx)(bt,{children:Object(J.jsxs)(it,{children:[Object(J.jsx)(st,{to:"/list",$active:"/list"===n.pathname,children:"\u5217\u8868"}),t&&Object(J.jsx)(st,{to:"/new-post",$active:"/new-post"===n.pathname,children:"\u767c\u5e03\u6587\u7ae0"})]})}),Object(J.jsx)(ot,{to:"/",children:"\u6211\u7684React\u90e8\u843d\u683c"}),Object(J.jsxs)(it,{children:[Object(J.jsx)(st,{to:"/about",$active:"/about"===n.pathname,children:"\u95dc\u65bc"}),!t&&Object(J.jsx)(st,{to:"/login",$active:"/login"===n.pathname,children:"\u767b\u5165"}),t&&Object(J.jsx)(dt,{onClick:function(){localStorage.removeItem("token"),a(null)},children:"\u767b\u51fa"})]})]})})}var lt=g.a.div(at||(at=Object(O.a)(["\n  padding-top: 64px;\n  background: #eeeeee78;\n"])));var pt=function(){var n=Object(u.useState)(null),e=Object(h.a)(n,2),t=e[0],a=e[1],r=S();return Object(u.useLayoutEffect)((function(){r&&E().then((function(n){1!==n.ok&&localStorage.removeItem("token"),a(n.data)}))}),[r]),Object(J.jsx)(w.Provider,{value:{user:t,setUser:a},children:Object(J.jsx)(lt,{children:Object(J.jsxs)(m.a,{children:[Object(J.jsx)(jt,{}),Object(J.jsxs)(v.c,{children:[Object(J.jsx)(v.a,{exact:!0,path:"/",children:Object(J.jsx)(dn,{})}),Object(J.jsx)(v.a,{exact:!0,path:"/list",children:Object(J.jsx)(Ln,{})}),Object(J.jsx)(v.a,{exact:!0,path:"/about",children:Object(J.jsx)(Be,{})}),Object(J.jsx)(v.a,{path:"/login",children:Object(J.jsx)(Vn,{})}),Object(J.jsx)(v.a,{path:"/register",children:Object(J.jsx)(pe,{})}),Object(J.jsx)(v.a,{path:"/post/:id",children:Object(J.jsx)(Ce,{})}),Object(J.jsx)(v.a,{path:"/new-post",children:Object(J.jsx)(tt,{})})]})]})})})},ut=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,44)).then((function(e){var t=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,o=e.getTTFB;t(n),a(n),r(n),c(n),o(n)}))};f.a.render(Object(J.jsx)(pt,{}),document.getElementById("root")),ut()}},[[43,1,2]]]);
//# sourceMappingURL=main.c630e72c.chunk.js.map